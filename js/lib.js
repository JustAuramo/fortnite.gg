function $(e,t){return(t||document).querySelector(e)}function $$(e,t){return(t||document).querySelectorAll(e)}function on(e,t,o,n={}){(e="string"==typeof e?$(e):e)&&(e.addEventListener?e.addEventListener(t,o,n):e.forEach&&e.forEach(e=>e.addEventListener(t,o,n)))}function remove(e){e&&e.parentElement&&e.parentElement.removeChild(e)}function createDom(e,t,o){var n,i=document.createElement(e);for(n in t||{}){var a=t[n];if("object"==typeof a)for(var s in a)i[n][s]=a[s];else i[n]=a}for(var d=o instanceof Array?o:[o],r=0;o=d[r];r++)i.appendChild("string"==typeof o?document.createTextNode(o):o);return i}function closeModal(){$$(".modal-wrap").forEach(function(e){e.parentElement.removeChild(e)}),document.body.style.overflow="",document.documentElement.style.overflow="",Url&&history.replaceState(null,null,Url)}function modal(u,e,t="",m={}){closeModal(),"img"===e?html='<img src="'+u+'">':"video"===e?html='<video loop autoplay playsinline src="'+u+'" onclick="this.paused ? this.play() : this.pause()"></video>':"video-controls"===e?html='<video controls loop autoplay playsinline src="'+u+'"></video>':"item"===e?(html="",t="/cosmetics?id="+u,ga("send","pageview",t)):html="yt"===e?(ajax("/log",null,"event=yt."+u),'<div><div class="iframe-container"><iframe src="https://www.youtube.com/embed/'+u+(~u.indexOf("?")?"&":"?")+'autoplay=1&rel=0&playsinline=1&modestbranding=1" width="100%" height="100%" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div></div>'):"page"===e?'<iframe style="width:100vw;height:100vh;" src="'+u+'"></iframe>':"wiki"===e?'<iframe style="width:80vw;height:80vh;border-radius:8px;" src="https://en.m.wikipedia.org/wiki/'+u+'"></iframe>':"twitter"===e?'<div id="twitter-container" style="width:540px;max-width:100%;"></div>':u,t&&history.pushState(null,null,t);var f=document.createElement("div");return f.className="modal-wrap","item"===e&&(f.style.padding="0 40px"),f.onclick=function(e){"modal-wrap"===e.target.className&&closeModal()},f.innerHTML=(m.hideCloseBtn?"":'<div class="close-modal" onclick="closeModal()"><svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg></div>')+html,document.body.insertBefore(f,document.body.firstChild),document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden","twitter"===e&&twttr.widgets.createTweet(u,$("#twitter-container"),{theme:"dark",dnt:!0}),"item"===e&&(window.storedType||window.storedVotes||(window.storedType="items","/best-seasons"===location.pathname?window.storedType="seasons":"/concept-royale"===location.pathname&&(window.storedType="crc"),window.storedVotes={},localStorage["fngg_"+window.storedType+"_votes"]&&(window.storedVotes=JSON.parse(localStorage["fngg_"+window.storedType+"_votes"]))),ajax("/item-details?id="+u+(Url.startsWith("/shop")?"&shop":""),function(e){var t;html=e.responseText,m.hideItemArrows||!window.ItemsFiltered&&!window.Items||(t=(window.ItemsFiltered||window.Items).findIndex(e=>e.id==u),e=(window.ItemsFiltered||window.Items)[t-1],i=(window.ItemsFiltered||window.Items)[t+1],-1<t&&e&&(html+='<div class="close-modal modal-arrow-left" onclick="modal('+e.id+', \'item\')"><svg viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg></div>'),-1<t&&i&&(html+='<div class="close-modal modal-arrow-right" onclick="modal('+i.id+', \'item\')"><svg viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg></div>')),f.insertAdjacentHTML("beforeend",html);let o=$(".item-video");if(o){var n=o.dataset.src;(window.innerWidth<=420||window.innerHeight<=420)&&(n=n.replace("video.mp4","video-sd.mp4")),o.src=n;let e=document.createElement("div");e.className="pause-btn",o.after(e),on(o,"click",()=>{o.paused?o.play():o.pause()}),on(o,"pause",()=>{e.style.top=o.offsetTop+o.offsetHeight/2+"px",e.style.left=o.offsetLeft+o.offsetWidth/2+"px",e.style.display="block"}),on(o,"play",()=>{e.style.display="none"})}var i=$("audio",f);if(i){localStorage.fngg_volume&&(i.volume=localStorage.fngg_volume),i.addEventListener("volumechange",function(){localStorage.fngg_volume=this.volume});n=$(".audio-wave",f);if(n)try{var a=new(window.AudioContext||window.webkitAudioContext),s=a.createAnalyser();a.createMediaElementSource(i).connect(s),s.connect(a.destination),s.fftSize=256;var d=s.frequencyBinCount,r=new Uint8Array(d);n.width=n.clientWidth,n.height=n.clientHeight;var l=n.getContext("2d"),c=n.width,p=n.height;!function e(){requestAnimationFrame(e),s.getByteFrequencyData(r),l.clearRect(0,0,c,p);for(var t,o=c/d*2.5,n=0,i=0;i<d;i++)t=r[i],l.fillStyle="rgb("+(t+i/d*250)+",0,127)",l.fillRect(n,p-t,o,t),n+=1+o}()}catch(e){n.style.display="none"}}$$(".vote-options",f).forEach(function(e){var t=window.storedVotes[e.dataset.id];void 0===t||(e=$('[data-vote="'+t+'"]',e))&&e.classList.add("active")}),$$(".vote-option",f).forEach(function(e){e.addEventListener("click",voteClick)}),$$("[data-tooltip]",f).forEach(function(e){initTooltip(e)}),$$(".fn-assets-header").forEach(function(e){e.addEventListener("click",function(){this.classList.toggle("opened"),this.nextSibling.classList.toggle("opened")})})})),!1}function itemStyle(e,t,o,n){$$(".style-variant",e.parentNode).forEach(function(e){e.classList.remove("active")}),e.classList.add("active");var i=[];$$(".style-variant.active").forEach(function(e){i.push(e.dataset.idx)});var a=i.every(function(e){return"1"===e}),s=window.innerWidth<=420||window.innerHeight<=420?"-sd":"",d="https://cdn.fortnite.gg/items/"+t+"/video-"+i.join("-")+s+".mp4?"+o;a&&(d="https://cdn.fortnite.gg/items/"+t+"/video"+s+".mp4?"+o),$("#style-video").src=d;e=$(".style-name",e.parentNode.previousSibling);e&&(e.textContent=n)}function ajax(e,t,o){var n=new XMLHttpRequest;return n.open(o?"POST":"GET",e),o&&n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t&&(n.onload=function(){t(n)}),n.send(o),n}function formatVotes(e){return 1e3<=e?Math.round(e/1e3*10)/10+"K":e}function voteClick(){var e=this.parentNode.dataset.id,i=Number(this.dataset.vote),a=window.storedVotes[e];this.classList.contains("active")||(ajax("/vote-click",null,"id="+e+"&vote="+i+"&type="+window.storedType),$$('.vote-options[data-id="'+e+'"]').forEach(function(e){$$(".vote-option",e).forEach(function(e){e.classList.remove("active");var t,o=e.dataset.vote;o==i&&(e.classList.add("active"),t=Number($(".vote-count",e).textContent),isNaN(t)||($(".vote-count",e).textContent=t+1)),void 0!==a&&o==a&&(t=Number($(".vote-count",e).textContent),isNaN(t)||($(".vote-count",e).textContent=t-1))});var t=Number(e.dataset.sum),o=Number(e.dataset.total);void 0!==a?t+=i-a:(t+=i,o++);var n=25*(t/o);$(".bar-fire",e.parentNode).style.width=n+"%",$(".bar-shit",e.parentNode).style.width=100-n+"%",e.dataset.sum=t,e.dataset.total=o}),window.storedVotes[e]=i,localStorage["fngg_"+window.storedType+"_votes"]=JSON.stringify(window.storedVotes))}function getUrlParameter(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))}function showMessage(e,t,o=4e3){$$(".message").forEach(function(e){remove(e)});var n=document.createElement("div");n.className="message"+(t?" "+t:""),n.innerHTML='<svg class="message-close" onclick="this.parentNode.parentNode.removeChild(this.parentNode)" width="20" height="20"><path d="M10 0a10 10 0 1 1 0 20 10 10 0 0 1 0-20zM7.17 5.76a1 1 0 0 0-1.41 1.41L8.59 10l-2.83 2.83a1 1 0 0 0 1.41 1.41L10 11.41l2.83 2.83a1 1 0 0 0 1.41-1.41L11.41 10l2.83-2.83a1 1 0 1 0-1.41-1.41L10 8.59z" fill-rule="evenodd" fill="#000"></path></svg>'+e,document.body.appendChild(n),setTimeout(function(){remove(n)},o)}function setTooltip(e,t){"undefined"!=typeof orientation||navigator.userAgent.toLowerCase().includes("mobile")||(e.setAttribute("data-tooltip",t),remove(tooltip),e.onmouseenter||initTooltip(e))}function addTooltip(e){var t,o,n;"undefined"!=typeof orientation||navigator.userAgent.toLowerCase().includes("mobile")||(document.body.appendChild(tooltip),tooltip.textContent=e.getAttribute("data-tooltip"),t=e.getBoundingClientRect(),o=window.pageYOffset+t.top+t.height,n=0,e.hasAttribute("data-tooltip-top")&&(o-=t.height),n=e.hasAttribute("data-tooltip-left")?window.pageXOffset+t.left:e.hasAttribute("data-tooltip-right")?window.pageXOffset+t.right-tooltip.offsetWidth:window.pageXOffset+t.left+t.width/2-tooltip.offsetWidth/2,tooltip.style.top=o+"px",tooltip.style.left=n+"px")}function initTooltip(e){"undefined"!=typeof orientation||navigator.userAgent.toLowerCase().includes("mobile")||(e.onmouseenter=function(){addTooltip(this)},e.onmouseleave=function(){remove(tooltip)})}function selectLang(e){var t=new Date;t.setDate(t.getDate()+3650),document.cookie="fngg_lang="+e+"; expires="+t,location.reload(!0)}function selectRegion(e){var t=new Date;t.setDate(t.getDate()+3650),document.cookie="fngg_region="+e+"; expires="+t,location.reload(!0)}function selectPlatform(e){var t=new Date;t.setDate(t.getDate()+3650),document.cookie="fngg_platform="+e+"; expires="+t,location.reload(!0)}function drawingsVote(t,e){t.style.color||ajax("/drawings?vote="+e,function(e){200===e.status&&(t.style.color="#2bde73","You have already voted"===e.responseText?showMessage(e.responseText,"ok"):(e=t.querySelector(".drawings-vote-count")).textContent=parseInt(e.textContent)+1)})}function copyToClipboard(e){var t=document.createElement("textarea");t.style.fontSize="12pt",t.style.border="0",t.style.padding="0",t.style.margin="0",t.style.position="absolute",t.style.left="-9999px";var o=window.pageYOffset||document.documentElement.scrollTop;t.style.top=o+"px",t.setAttribute("readonly",""),t.value=e,document.body.appendChild(t),t.select(),t.setSelectionRange(0,t.value.length);t.value;document.execCommand("copy"),document.body.removeChild(t),showMessage("Link copied to clipboard","ok")}window.emojis=["💩","🤮","😐","😍","🔥"],window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.addEventListener("popstate",function(){$(".modal-wrap")&&!$(".modal-wrap").classList.contains("fullpage")&&closeModal()});var tooltip=document.createElement("div");function adtest(e){ajax("/adtest",null,"x="+e)}tooltip.className="tooltip",window.addEventListener("keydown",function(e){"Escape"===e.key&&closeModal()},!0),document.addEventListener("DOMContentLoaded",function(){$$(".select").forEach(function(e){var t=$("select",e),o=document.createElement("div");o.className="select-selected",o.innerHTML=t.options[t.selectedIndex].innerHTML,o.addEventListener("click",function(e){e.stopPropagation();e=this.parentNode.classList.contains("opened");$$(".select").forEach(function(e){e.classList.remove("opened")}),this.parentNode.classList[e?"remove":"add"]("opened")}),e.appendChild(o);var n=document.createElement("div");n.className="select-options";for(var i,a=0;a<t.options.length;a++)t.options[a].disabled||((i=document.createElement("div")).innerHTML=t.options[a].innerHTML,i.dataset.idx=t.options[a].index,t.selectedIndex===t.options[a].index&&(i.className="same-as-selected"),i.addEventListener("click",function(){var e=$("select",this.parentNode.parentNode);e.selectedIndex=this.dataset.idx,e.dispatchEvent(new Event("change")),this.parentNode.previousSibling.innerHTML=this.innerHTML,this.parentNode.previousSibling.click(),$$(".same-as-selected",this.parentNode).forEach(function(e){e.className=""}),this.className="same-as-selected"}),n.appendChild(i));e.appendChild(n)}),document.addEventListener("click",function(e){var t,o,n,i,a,s,d;e.target&&("item-add-my-btn"===(t=e.target.className)?(d=e.target.dataset.type,i=e.target.dataset.id,IsLogged?(ajax("/"+d,null,"add="+i),showMessage('Added to <a href="/'+d+'">your '+d+"</a>","ok",8e3),(a=$(".wishlist-count"))&&(s=Number(a.textContent.replace(/,/g,""))+1,a.textContent=s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),(o=$('.item-icon[data-id="'+i+'"] .item-icon-img'))&&(700<(n=(n=o.getBoundingClientRect().top+130)<0?0:n)&&(n=700),o.classList.add("wishlist-translate-anim"),setTimeout(function(){o.classList.remove("wishlist-translate-anim")},n)),e.target.className="item-del-my-btn"):showMessage('<a href="/account">Sign in</a> to create your '+d,"ok",6e5)):"item-del-my-btn"===t&&(ajax("/"+(d=e.target.dataset.type),null,"delete="+(i=e.target.dataset.id)),showMessage('Removed from <a href="/'+d+'">your '+d+"</a>","ok"),(a=$(".wishlist-count"))&&0<=(s=Number(a.textContent.replace(/,/g,""))-1)&&(a.textContent=s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),window.IsMy&&Url.startsWith("/"+d)&&(remove($('.item-icon[data-id="'+i+'"]')),!window.Items||-1<(d=Items.findIndex(e=>e.id==i))&&Items.splice(d,1)),e.target.className="item-add-my-btn")),$$(".select").forEach(function(e){e.classList.remove("opened")})}),$(".vote-options")&&(window.storedType="items","/best-seasons"===location.pathname?window.storedType="seasons":"/concept-royale"===location.pathname?window.storedType="crc":"/best-augments"===location.pathname&&(window.storedType="augments"),window.storedVotes={},localStorage["fngg_"+window.storedType+"_votes"]&&(window.storedVotes=JSON.parse(localStorage["fngg_"+window.storedType+"_votes"])),$$(".vote-options").forEach(function(e){var t=window.storedVotes[e.dataset.id];void 0===t||(e=$('[data-vote="'+t+'"]',e))&&e.classList.add("active")}),$$(".vote-option").forEach(function(e){e.addEventListener("click",voteClick)})),$$(".fn-assets-header").forEach(function(e){e.addEventListener("click",function(){this.classList.toggle("opened"),this.nextSibling.classList.toggle("opened")})});var e="undefined"!=typeof orientation||navigator.userAgent.toLowerCase().includes("mobile");e?$$(".menu-item").forEach(function(e){e.addEventListener("click",function(){$("body").classList.remove("menu-opened")})}):($$("[data-tooltip]").forEach(function(e){initTooltip(e)}),document.addEventListener("click",function(){remove(tooltip)})),(new Image).src="/img/logo-hover.png";var t=null,o=$("#logo");o&&(o.addEventListener("mouseenter",function(){$("body").classList.add("menu-opened"),clearTimeout(t)}),o.addEventListener("mouseleave",function(){t=setTimeout(function(){$("body").classList.remove("menu-opened")},300)}),o.addEventListener("touchstart",function(){$("body").classList.toggle("menu-opened")}),e||(o.style.cursor="pointer",o.addEventListener("click",function(){location.href="/"})));var n,i,o=$("#menu");o&&(o.addEventListener("mouseenter",function(){$("body").classList.add("menu-opened"),clearTimeout(t)}),o.addEventListener("mouseleave",function(){$("body").classList.remove("menu-opened")}),o.style.display="block"),$$(".accordion-header").forEach(function(e){e.addEventListener("click",function(){this.parentNode.classList.toggle("opened")})}),$(".lazy")&&"IntersectionObserver"in window&&(n=new IntersectionObserver(function(e,t){e.forEach(function(e){e.isIntersecting&&((e=e.target).src=e.dataset.src,e.classList.remove("lazy"),n.unobserve(e))})}),$$(".lazy").forEach(function(e){n.observe(e)})),$(".infinite-scroll")&&"IntersectionObserver"in window&&(i=new IntersectionObserver(function(e,t){e.forEach(function(t){var o;t.isIntersecting&&((o=t.target.parentElement).dataset.isLoading||(o.dataset.isLoading=!0,ajax(o.dataset.url+"&offset="+o.dataset.offset,function(e){delete o.dataset.isLoading,200===e.status&&(""===(e=JSON.parse(e.responseText)).html?(i.unobserve(t.target),remove(t.target)):(o.dataset.offset=e.offset,t.target.insertAdjacentHTML("beforebegin",e.html)))})))})}),$$(".infinite-scroll .loader").forEach(function(e){i.observe(e)})),$(".lang-select.nav-item-wrap")&&($(".lang-select.nav-item-wrap").onclick=function(){this.classList.toggle("hover")})});